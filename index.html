<!doctype html>
<html>
    <head>
        <link rel="stylesheet" href="css/stylesheet.css" type="text/css" charset="utf-8" />
        <link href="css/smarter.css" type="text/css" rel="stylesheet" />
 
        <!-- load questions -->
        <script type="text/javascript" src="scripts/questions.js"></script>

        <!-- Handlebars & templates -->
        <script type="text/javascript" src="scripts/jquery-1.9.1.min.js"></script>
        <script type="text/javascript" src="scripts/handlebars.js"></script>

        <!-- Question template -->
        <script id="question-template" type="text/x-handlebars-template">
        <div id="question">
            <p>{{q}}</p>
            <ol type="A">
                {{#each c}}
                <li>{{this}}</li>
                {{/each}}
            </ol>
        </div>
        </script>

        <script type="text/javascript" language="javascript">
            var source = $("#question-template").html();
            var template = Handlebars.compile(source);
            var idx = 0;
            var total = questions.length;
/*
            var active = '';
	 			var catidx = {
					'Anthem':0,
					'People':0,
					'FlagEttiquette':0,
					'Symbols':0,
					'Pledge':0,
					'FlagHistory':0,
					'FlagRespect':0,
					'StateNames':0,
					'YourRights':0,
					'OddsEnds':0
            };
*/
            function render(i)
            {
	            //$('#categories').slideUp();
      	      //$('#question').slideDown();
               $('#question').replaceWith( template( questions[i] ) );
            }

	         function menu()
            {
               $('#questions').slideUp();
               $('#categories').slideDown();
            }

            $( function() {
                // preload
		         // menu();
					render(0);

					$('#anthem').click(function() {
						render('Anthem',catidx['Anthem']);
					});
					$('#people').click(function() {
						render('People',catidx['People']);
					});

					$('#ettiquette').click(function() {
						render('FlagEttiquette',catidx['FlagEttiquette']);
					});

					$('#symbols').click(function() {
						render('Symbols',catidx['Symbols']);
					});

					$('#pledge').click(function() {
						render('Pledge',catidx['Pledge']);
					});

					$('#flaghist').click(function() {
						render('FlagHistory',catidx['FlagHistory']);
					});

					$('#flagrespect').click(function() {
						render('FlagRespect',catidx['FlagRespect']);
					});

					$('#statenames').click(function() {
						render('StateNames',catidx['StateNames']);
					});

					$('#yourrights').click(function() {
						render('YourRights',catidx['YourRights']);
					});

					$('#oddsends').click(function() {
						render('OddsEnds',catidx['OddsEnds']);
					});

                // next page
                $('body').click(function() {
                    render(Math.abs(++idx) % total);
                });
                $('body').keydown(function() {
                    if (event.which == 39 /* arrow right */)
                    {
                        render(Math.abs(++idx) % total);
                    } else if (event.which == 37 /* arrow left */)
                    {
                        render(Math.abs(--idx) % total);
                    } else if (event.which == 38 /* arrow up */)
                    {
                        menu();
                    }
                });
            });
        </script>
   </head>
    <body>
		<!--
        <div id="categories">
				<table>
					<tr><td id="anthem">Anthem</td><td id="flaget">Flag Ettiquette</td></tr>
					<tr><td id="people">People</td><td id="symbols">Symbols</td></tr>
				</table>
	     </div>
-->
        <div id="question"></div>
   </body>
</html>
